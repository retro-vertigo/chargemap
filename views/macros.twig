
{# Get an HTML img element with srcset and sizes #}
{% macro get_rwd_image( attachment_id, name='default', size='full', attr='' ) %}

	{{ fn( 'get_rwd_image', attachment_id, name, size, attr ) }}
	
{% endmacro %}


{# Get post featured image element or default featured image from ACF options #}
{% macro get_featured_image( post, name='default', size='full', attr='' ) %}
	{% import _self as macros %}

	{% if post.thumbnail %} 
		{% set image_id = post.thumbnail.id %}
	{% else %}
		{% set context = fn( 'get_timber_context' ) %}
		{% set image_id = context.acf_options.default_featured_image.id %}
	{% endif %}
	{{ macros.get_rwd_image( image_id, name, size, attr ) }}
	
{% endmacro %}
